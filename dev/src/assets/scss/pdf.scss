@use 'srl';
@use 'placeholders';
@use 'print';
@use 'sass:map';

$image-quality: map.get(srl.$meta, pdf, image-quality);

img {
  image-rendering: auto;
  -ro-image-resampling: $image-quality;
  -ro-pdf-tag-type: "Figure";

  &[alt] {
    -ro-pdf-tag-alt: attr(alt);
  }
}

@page {
  margin: (
          srl.system-size-unit(map.get(srl.$meta, pdf, margin, top))
          srl.system-size-unit(map.get(srl.$meta, pdf, margin, right))
          srl.system-size-unit(map.get(srl.$meta, pdf, margin, bottom))
          srl.system-size-unit(map.get(srl.$meta, pdf, margin, left))
  );
  counter-increment: page 1;
  -ro-bleed-width: 0mm;
  -ro-media-size: A4;
  -ro-crop-size: media;
  -ro-truncate-margin-after-break: always;
  -ro-truncate-margin-before-break: always;

  @top-left-corner {
    content: counter(page);
  }
}

.srl-grid {
  display: flex;
  justify-content: flex-end;

  .srl-grid {
    display: block;
  }
}

.srl-grid__inner {
  @include srl.grid-pdf-flex-col(6);

  .srl-wide-width & {
    @include srl.grid-pdf-flex-col(8);
  }
}

.srl-grid__aside {
  @extend %srl-trim-margins;
  @include srl.grid-pdf-flex-col(2);
}

.srl-grid__content {
  @extend %srl-trim-margins;
  @include srl.grid-pdf-flex-col(6);
}